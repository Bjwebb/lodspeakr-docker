prefix rp: <http://resourceprojects.org/def/>
prefix rp_misc: <http://resourceprojects.org/def/misc/>

SELECT DISTINCT ?uri ?commodityType (COUNT(?commodityType) as ?cCount) WHERE {
    ?uri a rp:Country .
    ?project rp:hasLocation ?uri
    OPTIONAL { ?project rp:commodity ?commodity .
              ?commodity rp_misc:commodityType ?commodityType }
}
GROUP BY ?uri ?commodityType
limit {{lodspk.maxResults}}
